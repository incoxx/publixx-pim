import{_}from"./index-B_89pp-1.js";import{r as y}from"./ProductDetailView-DT7ISbAw.js";import{o as b,w as C,q as A,t as B,v as w,c as v,r as D}from"./vendor-B0bC02TM.js";import"./products-BINFFwRn.js";import"./chevron-down-CSxCUBwz.js";import"./chevron-right-BtFY1BQ2.js";const E={class:"w-full h-full p-1"},j={__name:"PxfChartElement",props:{element:{type:Object,required:!0},data:{type:Object,default:()=>({})}},setup(f){const o=f,n=D(null);let l=null;const r=v(()=>{const t=y(o.data,o.element.bind)||[];return Array.isArray(t)?t:[]}),e=v(()=>o.element.chartConfig||{}),m=["#2E75B6","#1B3A5C","#059669","#D97706","#DC2626","#7C3AED","#EC4899","#06B6D4","#84CC16","#F97316"];async function i(){var p;if(!n.value||r.value.length===0)return;const{Chart:t,registerables:u}=await _(async()=>{const{Chart:a,registerables:g}=await import("./charts-DhfwQo4U.js");return{Chart:a,registerables:g}},[]);t.register(...u),l&&l.destroy();const c=r.value.map(a=>a.label||a.name||""),h=r.value.map(a=>a.value??a.count??0),d=(p=e.value.colors)!=null&&p.length?e.value.colors:m.slice(0,c.length),s=e.value.chartType==="horizontalBar"?"bar":e.value.chartType||"bar";l=new t(n.value,{type:s,data:{labels:c,datasets:[{data:h,backgroundColor:d,borderColor:d,borderWidth:1,tension:e.value.tension||0,fill:e.value.fill||!1,pointRadius:e.value.pointRadius||4}]},options:{responsive:!0,maintainAspectRatio:!1,indexAxis:e.value.chartType==="horizontalBar"?"y":"x",animation:{duration:e.value.animationDuration||0},plugins:{legend:{display:e.value.showLegend??!1,position:e.value.legendPosition||"top"}},scales:["pie","doughnut","radar","polarArea"].includes(s)?{}:{y:{beginAtZero:e.value.beginAtZero??!0}},cutout:s==="doughnut"?e.value.cutout||"55%":void 0}})}return b(()=>i()),C(r,()=>i(),{deep:!0}),(t,u)=>(A(),B("div",E,[w("canvas",{ref_key:"canvasRef",ref:n},null,512)]))}};export{j as default};
