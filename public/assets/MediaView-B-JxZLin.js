import{e as _,c,f as w,U as M,I as v}from"./index-B_89pp-1.js";import{o as $,t as i,v as e,A as g,j as h,x as p,E as j,F as f,z as y,r as m,q as r,B as z,D as x}from"./vendor-B0bC02TM.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=_("Grid3x3Icon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=_("ListIcon",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]),k={list(t={}){return c.get("/media",{params:w(t)})},get(t){return c.get(`/media/${t}`)},upload(t,o={}){const l=new FormData;l.append("file",t);for(const[d,u]of Object.entries(o))l.append(d,u);return c.post("/media",l,{headers:{"Content-Type":"multipart/form-data"}})},update(t,o){return c.put(`/media/${t}`,o)},delete(t){return c.delete(`/media/${t}`)},fileUrl(t){return`/api/v1/media/file/${t}`}},C={class:"space-y-4"},I={class:"flex items-center justify-between"},D={class:"flex items-center gap-2"},L={for:"media-upload",class:"pim-btn pim-btn-primary text-sm cursor-pointer"},U={key:0,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3"},V={key:1,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3"},F={class:"aspect-square bg-[var(--color-bg)] flex items-center justify-center overflow-hidden"},N=["src"],A={class:"p-2"},E={class:"text-[11px] text-[var(--color-text-primary)] truncate"},G={class:"text-[10px] text-[var(--color-text-tertiary)]"},P={key:2,class:"pim-card p-12 text-center"},K={__name:"MediaView",setup(t){const o=m([]),l=m(!1),d=m("grid");async function u(){l.value=!0;try{const{data:n}=await k.list({perPage:50});o.value=n.data||n}finally{l.value=!1}}async function b(n){for(const a of n.target.files)await k.upload(a);await u()}return $(()=>u()),(n,a)=>(r(),i("div",C,[e("div",I,[a[3]||(a[3]=e("h2",{class:"text-lg font-semibold text-[var(--color-text-primary)]"},"Medien",-1)),e("div",D,[e("button",{class:g(["pim-btn pim-btn-ghost p-1.5",d.value==="grid"?"bg-[var(--color-bg)]":""]),onClick:a[0]||(a[0]=s=>d.value="grid")},[h(p(q),{class:"w-4 h-4","stroke-width":1.75})],2),e("button",{class:g(["pim-btn pim-btn-ghost p-1.5",d.value==="list"?"bg-[var(--color-bg)]":""]),onClick:a[1]||(a[1]=s=>d.value="list")},[h(p(B),{class:"w-4 h-4","stroke-width":1.75})],2),e("input",{type:"file",accept:"image/*",multiple:"",class:"hidden",id:"media-upload",onChange:b},null,32),e("label",L,[h(p(M),{class:"w-4 h-4","stroke-width":2}),a[2]||(a[2]=j(" Hochladen",-1))])])]),l.value?(r(),i("div",U,[(r(),i(f,null,y(10,s=>e("div",{key:s,class:"pim-skeleton aspect-square rounded-lg"})),64))])):o.value.length>0?(r(),i("div",V,[(r(!0),i(f,null,y(o.value,s=>(r(),i("div",{key:s.id,class:"pim-card overflow-hidden group cursor-pointer hover:shadow-md transition-shadow"},[e("div",F,[s.url||s.filename?(r(),i("img",{key:0,src:s.url||`/api/v1/media/file/${s.filename}`,class:"w-full h-full object-cover",loading:"lazy",alt:""},null,8,N)):(r(),z(p(v),{key:1,class:"w-8 h-8 text-[var(--color-text-tertiary)]","stroke-width":1.5}))]),e("div",A,[e("p",E,x(s.original_filename||s.filename),1),e("p",G,x(s.media_type),1)])]))),128))])):(r(),i("div",P,[h(p(v),{class:"w-10 h-10 mx-auto mb-3 text-[var(--color-text-tertiary)]","stroke-width":1.5}),a[4]||(a[4]=e("p",{class:"text-sm text-[var(--color-text-tertiary)]"},"Keine Medien vorhanden",-1))]))]))}};export{K as default};
