import{q as n,t as a,v as l,A as k,y as h,F as d,z as u,D as g,B as p,x as v,V as F,S as w,W as b,j as K,c as D,r as E,E as M}from"./vendor-B0bC02TM.js";import{e as x}from"./index-B6UkL2Yr.js";import{E as q}from"./ellipsis-b7GN98r0.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=x("ArrowDownIcon",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=x("ArrowUpDownIcon",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=x("ArrowUpIcon",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),j={class:"pim-card overflow-hidden"},z={class:"overflow-x-auto"},N={class:"w-full text-[13px]"},T={class:"bg-[var(--color-bg)] border-b border-[var(--color-border)]"},U={key:0,class:"w-10 px-3 py-2.5"},H=["checked"],L=["onClick"],P={key:0,class:"px-3 py-3"},W={key:1},G=["colspan"],J={class:"text-sm text-[var(--color-text-tertiary)]"},Q=["onClick"],X=["checked","onChange"],Y=["onClick"],te={__name:"PimTable",props:{columns:{type:Array,required:!0},rows:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},sortField:{type:String,default:""},sortOrder:{type:String,default:"asc"},selectable:{type:Boolean,default:!1},rowKey:{type:String,default:"id"},stickyHeader:{type:Boolean,default:!0},emptyText:{type:String,default:"Keine Einträge"},onRowClick:{type:Function,default:null}},emits:["sort","select","row-click","row-action"],setup(t,{emit:C}){const c=t,y=C,i=E(new Set),f=D(()=>c.rows.length>0&&c.rows.every(o=>i.value.has(o[c.rowKey])));function S(){f.value?i.value.clear():c.rows.forEach(o=>i.value.add(o[c.rowKey])),y("select",[...i.value])}function A(o){const r=o[c.rowKey];i.value.has(r)?i.value.delete(r):i.value.add(r),y("select",[...i.value])}function B(o){if(!o.sortable)return;const r=c.sortField===o.key&&c.sortOrder==="asc"?"desc":"asc";y("sort",o.key,r)}function V(o){c.onRowClick&&c.onRowClick(o),y("row-click",o)}function m(o,r){if(r.render)return r.render(o);const e=r.key.split(".");let s=o;for(const $ of e)s=s==null?void 0:s[$];return s??"—"}return(o,r)=>(n(),a("div",j,[l("div",z,[l("table",N,[l("thead",{class:k(t.stickyHeader?"sticky top-0 z-10":"")},[l("tr",T,[t.selectable?(n(),a("th",U,[l("input",{type:"checkbox",checked:f.value,onChange:S,class:"rounded border-[var(--color-border-strong)] text-[var(--color-accent)] focus:ring-[var(--color-accent)]"},null,40,H)])):h("",!0),(n(!0),a(d,null,u(t.columns,e=>(n(),a("th",{key:e.key,class:k(["px-3 py-2.5 text-left font-medium text-[11px] uppercase tracking-wider text-[var(--color-text-tertiary)]",e.sortable?"cursor-pointer select-none hover:text-[var(--color-text-secondary)]":"",e.width?`w-[${e.width}]`:"",e.align==="right"?"text-right":e.align==="center"?"text-center":""]),onClick:s=>B(e)},[l("div",{class:k(["flex items-center gap-1",e.align==="right"?"justify-end":""])},[l("span",null,g(e.label),1),e.sortable?(n(),a(d,{key:0},[t.sortField===e.key&&t.sortOrder==="asc"?(n(),p(v(R),{key:0,class:"w-3 h-3 text-[var(--color-accent)]"})):t.sortField===e.key&&t.sortOrder==="desc"?(n(),p(v(I),{key:1,class:"w-3 h-3 text-[var(--color-accent)]"})):(n(),p(v(O),{key:2,class:"w-3 h-3 opacity-30"}))],64)):h("",!0)],2)],10,L))),128)),r[2]||(r[2]=l("th",{class:"w-10"},null,-1))])],2),l("tbody",null,[t.loading?(n(),a(d,{key:0},u(8,e=>l("tr",{key:"skel-"+e,class:"border-b border-[var(--color-border)]"},[t.selectable?(n(),a("td",P,[...r[3]||(r[3]=[l("div",{class:"pim-skeleton h-4 w-4 rounded"},null,-1)])])):h("",!0),(n(!0),a(d,null,u(t.columns,s=>(n(),a("td",{key:s.key,class:"px-3 py-3"},[l("div",{class:"pim-skeleton h-4 rounded",style:F({width:40+Math.random()*60+"%"})},null,4)]))),128)),r[4]||(r[4]=l("td",{class:"px-3 py-3"},[l("div",{class:"pim-skeleton h-4 w-4 rounded"})],-1))])),64)):t.rows.length===0?(n(),a("tr",W,[l("td",{colspan:t.columns.length+(t.selectable?2:1),class:"py-16 text-center"},[l("p",J,g(t.emptyText),1)],8,G)])):(n(!0),a(d,{key:2},u(t.rows,e=>(n(),a("tr",{key:e[t.rowKey],class:"border-b border-[var(--color-border)] hover:bg-[var(--color-bg)] transition-colors cursor-pointer group",onClick:s=>V(e)},[t.selectable?(n(),a("td",{key:0,class:"px-3 py-2.5",onClick:r[0]||(r[0]=w(()=>{},["stop"]))},[l("input",{type:"checkbox",checked:i.value.has(e[t.rowKey]),onChange:s=>A(e),class:"rounded border-[var(--color-border-strong)] text-[var(--color-accent)] focus:ring-[var(--color-accent)]"},null,40,X)])):h("",!0),(n(!0),a(d,null,u(t.columns,s=>(n(),a("td",{key:s.key,class:k(["px-3 py-2.5",s.mono?"font-mono text-xs text-[var(--color-text-secondary)]":"",s.align==="right"?"text-right":s.align==="center"?"text-center":""])},[b(o.$slots,"cell-"+s.key,{row:e,value:m(e,s)},()=>[M(g(m(e,s)),1)])],2))),128)),l("td",{class:"px-2 py-2.5",onClick:r[1]||(r[1]=w(()=>{},["stop"]))},[l("button",{class:"opacity-0 group-hover:opacity-100 p-1 rounded hover:bg-[var(--color-border)] transition-all",onClick:s=>o.$emit("row-action",e)},[K(v(q),{class:"w-4 h-4 text-[var(--color-text-tertiary)]"})],8,Y)])],8,Q))),128))])])]),b(o.$slots,"pagination")]))}};export{te as _};
