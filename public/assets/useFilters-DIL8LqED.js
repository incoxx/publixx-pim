import{x as b,r as f}from"./vendor-B0bC02TM.js";function p(t){return typeof t=="function"?t():b(t)}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const d=()=>{};function h(t,i){function r(...e){return new Promise((o,u)=>{Promise.resolve(t(()=>i.apply(this,e),{fn:i,thisArg:this,args:e})).then(o).catch(u)})}return r}function F(t,i={}){let r,e,o=d;const u=l=>{clearTimeout(l),o(),o=d};return l=>{const s=p(t),a=p(i.maxWait);return r&&u(r),s<=0||a!==void 0&&a<=0?(e&&(u(e),e=null),Promise.resolve(l())):new Promise((n,c)=>{o=i.rejectOnCancel?c:n,a&&!e&&(e=setTimeout(()=>{r&&u(r),e=null,n(l())},a)),r=setTimeout(()=>{e&&u(e),e=null,n(l())},s)})}}function T(t,i=200,r={}){return h(F(i,r),t)}function P(t,i=250){const r=f(""),e=f({}),o=f([]),u=T(()=>{t()},i);function m(n){r.value=n,u()}function l(n,c,v){e.value[n]=c,o.value.push({key:n,value:c,label:v||`${n}: ${c}`}),t()}function s(n){delete e.value[n],o.value=o.value.filter(c=>c.key!==n),t()}function a(){e.value={},o.value=[],r.value="",t()}return{search:r,filters:e,activeFilters:o,setSearch:m,addFilter:l,removeFilter:s,clearFilters:a}}export{P as u};
