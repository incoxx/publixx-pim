import{o as g,t as v,v as s,D as a,x as t,j as l,E as k,H as n,p as y,q as w,A as F}from"./vendor-B0bC02TM.js";import{b as P,d as S}from"./index-B_89pp-1.js";import{u as C}from"./products-BINFFwRn.js";import{u as L}from"./useFilters-DIL8LqED.js";import{_ as $}from"./PimTable-DtGX8hBe.js";import{_ as D}from"./PimFilterBar-D6s9y7dm.js";import"./ellipsis-DAI6l6F-.js";import"./chevron-down-CSxCUBwz.js";const A={class:"space-y-4"},E={class:"flex items-center justify-between"},N={class:"text-lg font-semibold text-[var(--color-text-primary)]"},R={class:"text-[var(--color-text-tertiary)] text-xs"},V={class:"flex items-center justify-between px-4 py-3 border-t border-[var(--color-border)]"},j={class:"text-xs text-[var(--color-text-tertiary)]"},B={class:"flex items-center gap-1"},T=["disabled"],U={class:"text-xs text-[var(--color-text-secondary)] px-2"},I=["disabled"],J={__name:"ProductListView",setup(K){const{t:i}=P(),d=y(),e=C(),{search:u,activeFilters:p,setSearch:m,removeFilter:_,clearFilters:b}=L(()=>{e.setSearch(u.value),e.fetchList()}),x=[{key:"sku",label:"SKU",sortable:!0,mono:!0},{key:"name_de",label:"Name",sortable:!0},{key:"product_type.name_de",label:"Typ"},{key:"status",label:"Status",sortable:!0},{key:"updated_at",label:"Geändert",sortable:!0}];function h(c,o){e.setSort(c,o),e.fetchList()}function f(c){d.push(`/products/${c.id}`)}return g(()=>e.fetchList()),(c,o)=>(w(),v("div",A,[s("div",E,[s("h2",N,a(t(i)("product.title")),1),s("button",{class:"pim-btn pim-btn-primary",onClick:o[0]||(o[0]=r=>t(d).push("/products?new=1"))},[l(t(S),{class:"w-4 h-4","stroke-width":2}),k(" "+a(t(i)("product.newProduct")),1)])]),l(D,{search:t(u),activeFilters:t(p),placeholder:"Produkte durchsuchen…","onUpdate:search":t(m),onRemoveFilter:t(_),onClearAll:t(b)},null,8,["search","activeFilters","onUpdate:search","onRemoveFilter","onClearAll"]),l($,{columns:x,rows:t(e).items,loading:t(e).loading,sortField:t(e).sort.field,sortOrder:t(e).sort.order,selectable:"",emptyText:"Keine Produkte gefunden",onSort:h,onRowClick:f},{"cell-status":n(({value:r})=>[s("span",{class:F(["pim-badge",r==="active"?"bg-[var(--color-success-light)] text-[var(--color-success)]":r==="draft"?"bg-[var(--color-bg)] text-[var(--color-text-tertiary)]":"bg-[var(--color-error-light)] text-[var(--color-error)]"])},a(r==="active"?"Aktiv":r==="draft"?"Entwurf":"Inaktiv"),3)]),"cell-updated_at":n(({value:r})=>[s("span",R,a(r?new Date(r).toLocaleDateString("de-DE"):"—"),1)]),pagination:n(()=>[s("div",V,[s("span",j,a(t(e).meta.total)+" Produkte ",1),s("div",B,[s("button",{class:"pim-btn pim-btn-ghost text-xs",disabled:t(e).meta.current_page<=1,onClick:o[1]||(o[1]=r=>{t(e).setPage(t(e).meta.current_page-1),t(e).fetchList()})},"Zurück",8,T),s("span",U,a(t(e).meta.current_page)+" / "+a(t(e).meta.last_page),1),s("button",{class:"pim-btn pim-btn-ghost text-xs",disabled:t(e).meta.current_page>=t(e).meta.last_page,onClick:o[2]||(o[2]=r=>{t(e).setPage(t(e).meta.current_page+1),t(e).fetchList()})},"Weiter",8,I)])])]),_:1},8,["rows","loading","sortField","sortOrder"])]))}};export{J as default};
