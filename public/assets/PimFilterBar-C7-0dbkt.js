import{e as v,a as f}from"./index-aO8txVii.js";import{C as y}from"./chevron-down-Dgv6ujaI.js";import{o as b,b as g,q as r,t as o,v as l,j as n,x as c,F as u,z as p,D as m,y as h,E as k,r as w}from"./vendor-B0bC02TM.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=v("FilterIcon",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=v("XIcon",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),C={class:"flex items-center gap-2 flex-wrap"},$={class:"relative flex-1 min-w-[200px] max-w-sm"},S=["value","placeholder"],B=["onClick"],E={key:1,class:"relative group ml-auto"},I={class:"pim-btn pim-btn-secondary text-xs gap-1"},L={class:"absolute right-0 top-full mt-1 w-48 bg-[var(--color-surface)] border border-[var(--color-border)] rounded-lg shadow-lg py-1 hidden group-hover:block z-20"},N=["onClick"],M={__name:"PimFilterBar",props:{search:{type:String,default:""},activeFilters:{type:Array,default:()=>[]},presets:{type:Array,default:()=>[]},placeholder:{type:String,default:"Suchen…"}},emits:["update:search","remove-filter","clear-all","preset"],setup(a,{emit:V}){const i=w(null);function d(){var t;(t=i.value)==null||t.focus()}return b(()=>{window.addEventListener("pim:focus-search",d)}),g(()=>{window.removeEventListener("pim:focus-search",d)}),(t,s)=>(r(),o("div",C,[l("div",$,[n(c(f),{class:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-[var(--color-text-tertiary)]","stroke-width":1.75}),l("input",{ref_key:"searchRef",ref:i,type:"text",value:a.search,placeholder:a.placeholder,class:"pim-input pl-8 pr-3 text-[13px]",onInput:s[0]||(s[0]=e=>t.$emit("update:search",e.target.value))},null,40,S)]),(r(!0),o(u,null,p(a.activeFilters,e=>(r(),o("div",{key:e.key,class:"inline-flex items-center gap-1 px-2 py-1 bg-[color-mix(in_srgb,var(--color-accent)_10%,transparent)] text-[var(--color-accent)] rounded-md text-[12px]"},[l("span",null,m(e.label),1),l("button",{class:"p-0.5 rounded hover:bg-[color-mix(in_srgb,var(--color-accent)_20%,transparent)]",onClick:x=>t.$emit("remove-filter",e.key)},[n(c(F),{class:"w-3 h-3","stroke-width":2})],8,B)]))),128)),a.activeFilters.length>0?(r(),o("button",{key:0,class:"text-[12px] text-[var(--color-text-tertiary)] hover:text-[var(--color-text-secondary)] underline",onClick:s[1]||(s[1]=e=>t.$emit("clear-all"))}," Alle löschen ")):h("",!0),a.presets.length>0?(r(),o("div",E,[l("button",I,[n(c(_),{class:"w-3 h-3","stroke-width":1.75}),s[2]||(s[2]=k(" Filter ",-1)),n(c(y),{class:"w-3 h-3","stroke-width":2})]),l("div",L,[(r(!0),o(u,null,p(a.presets,e=>(r(),o("button",{key:e.id,class:"w-full px-3 py-1.5 text-left text-xs text-[var(--color-text-secondary)] hover:bg-[var(--color-bg)] transition-colors",onClick:x=>t.$emit("preset",e)},m(e.label),9,N))),128))])])):h("",!0)]))}};export{M as _};
